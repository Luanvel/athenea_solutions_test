<h2>LLISTA D'USUARIS</h2>

<div class="table-container">
  <!-- Filtre -->
  <div class="table-options">
    <mat-form-field appearance="fill" class="filter-field">
      <mat-label>Filtrar usuaris</mat-label>
      <input
        matInput
        (keyup)="applyFilter($event)"
        placeholder="Escriu aquí..."
      />
    </mat-form-field>

    <div class="export-buttons">
      <!-- Botó Exportar PDF -->
      <button mat-raised-button color="primary" (click)="exportPDF()">
        <i class="fa-solid fa-file-pdf"></i> Exportar PDF
      </button>

      <!-- Botó Exportar Excel -->
      <button mat-raised-button color="primary" (click)="exportExcel()">
        <i class="fa-solid fa-file-excel"></i> Exportar Excel
      </button>
    </div>
  </div>

  <!-- Taula -->
  <div class="table-responsive">
    <table mat-table [dataSource]="users" matSort class="mat-elevation-z8">
      <!-- NOM -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nom</th>
        <td mat-cell *matCellDef="let user" (click)="goToProfile(user.id)">
          {{ user.name }}
        </td>
      </ng-container>

      <!-- COGNOMS -->
      <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Cognoms</th>
        <td mat-cell *matCellDef="let user" (click)="goToProfile(user.id)">
          {{ user.surname }}
        </td>
      </ng-container>

      <!-- EMAIL -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
        <td mat-cell *matCellDef="let user" (click)="goToProfile(user.id)">
          {{ user.email }}
        </td>
      </ng-container>

      <!-- DNI -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>DNI</th>
        <td mat-cell *matCellDef="let user" (click)="goToProfile(user.id)">
          {{ user.id }}
        </td>
      </ng-container>

      <!-- Oganitzar Headers i Rows MaterialUI desde user.cmponent.ts -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        (click)="goToProfile(row.id)"
      ></tr>
    </table>
  </div>

  <!-- Paginador -->
  <mat-paginator
    [pageSizeOptions]="[3, 5]"
    showFirstLastButtons
  ></mat-paginator>
</div>
